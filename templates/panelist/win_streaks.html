<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Wait Wait... Don't Tell Me! Panelist Win Streaks Report</title>
    <!-- Import Pure CSS Base -->
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css" integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400,600,700&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">

    <!-- Import Custom CSS -->
    <link rel="stylesheet" href="/static/css/panelist/win_streaks.css">

    {% if ga_property_code %}
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ ga_property_code }}"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', '{{ ga_property_code }}');
    </script>
    <!-- End Google Analytics -->
    {% endif %}
</head>
<body>
    <div class="body">
        <!-- Start Content -->
        <div id="content">
            <!-- Start Header -->
            <div id="header">
                <div id="homelink">
                    &lt; <a href="{{ url_for('index') }}">Home</a>
                </div>                
                <h1>Wait Wait... Don't Tell Me! Panelist Win Streaks Report</h1>
                <p>
                    This report provides the longest outright win streak and the longest win streak,
                    including draws, for each panelist.
                </p>
            </div>
            <!-- End Header -->
            
            <!-- Start Panelist Win Streaks Section -->
            <table class="pure-table pure-table-bordered">
                <colgroup>
                    <col class="panelist-name">
                    <col class="panelist-streak-total">
                    <col class="panelist-streak-count">
                    <col class="panelist-streak-dates">
                    <col class="panelist-streak-total">
                    <col class="panelist-streak-count">
                    <col class="panelist-streak-dates">
                </colgroup>
                <thead>
                    <tr>
                        <th scope="col" rowspan="2">Panelist</th>
                        <th colspan="3">Outright Wins</th>
                        <th colspan="3">Wins with Draws</th>
                    </tr>
                    <tr>
                        <th scope="col">Total</th>
                        <th scope="col">#</th>
                        <th scope="col">Shows</th>
                        <th scope="col">Total</th>
                        <th scope="col">#</th>
                        <th scope="col">Shows</th>
                    </tr>
                </thead>
                <tbody>
                    {% for panelist in win_streaks %}
                    <tr>
                        <td>{{ panelist["name"] }}</td>
                        <td>{{ panelist["total_wins"] }}</td>
                        <td>{{ panelist["longest_win_streak"] }}</td>
                        {% if not panelist["longest_win_streak_dates"] %}
                        <td class="no-data">&nbsp;</td>
                        {% else %}
                        <td class="show-dates">
                            <ul>
                            {% for show in panelist["longest_win_streak_dates"] %}
                            <li>{{ show["show_date"] }}</li>
                            {% endfor %}
                            </ul>
                        </td>
                        {% endif %}
                        <td>{{ panelist["total_wins_with_draws"] }}</td>
                        <td>{{ panelist["longest_win_streak_with_draws"] }}</td>
                        {% if not panelist["longest_win_streak_with_draws_dates"] %}
                        <td class="no-data">&nbsp;</td>
                        {% else %}
                        <td class="show-dates">
                            <ul>
                            {% for show in panelist["longest_win_streak_with_draws_dates"] %}
                            <li>{{ show["show_date"] }}</li>
                            {% endfor %}
                            </ul>
                        </td>
                        {% endif %}
                    </tr>
                    {% endfor %}
                </tbody>
                <tfoot>
                    <tr>
                        <th scope="col" rowspan="2">Panelist</th>
                        <th scope="col">Total</th>
                        <th scope="col">#</th>
                        <th scope="col">Shows</th>
                        <th scope="col">Total</th>
                        <th scope="col">#</th>
                        <th scope="col">Shows</th>
                    </tr>
                    <tr>
                        <th colspan="3">Outright Wins</th>
                        <th colspan="3">Wins with Draws</th>
                    </tr>
                </tfoot>
            </table>
            <!-- Start Panelist Win Streaks Section -->

            <!-- Start Footer -->
            <div id="footer">
                    <div id="timestamp">Page last generated on {{ rendered_at }}.</div>
                    <div id="copyright">Copyright &copy; 2019 <a href="http://linhpham.org/">Linh Pham</a>. All rights reserved.</div>
            </div>
            <!-- End Footer -->
        </div>
        <!-- End Content -->
    </div>
</body>
</html>